const DISK_USAGE_THRESHOLD_RE=new RegExp("^[0-9]+(b|kb|mb|gb|tb|kib|mib|gib|tib|%)?$","i");function inesonicSpeedSentryResourcesCheckDiskUsageThreshold(a){return DISK_USAGE_THRESHOLD_RE.test(a)}function inesonicSpeedSentryResourcesValidateEntry(){let diskUsageThresholdEdit=jQuery("#inesonic-speedsentry-resources-disk-usage-threshold");let diskUsageThresholdArea=jQuery("#inesonic-speedsentry-resources-disk-usage-settings-2");let diskUsage=jQuery("#inesonic-speedsentry-resources-monitor-disk-usage").prop("checked");let diskUsageThreshold=diskUsageThresholdEdit.val();diskUsageThresholdEdit.prop("disabled",!diskUsage);if(diskUsage){diskUsageThresholdArea.removeClass("inesonic-speedsentry-anchor-disable");diskUsageThresholdArea.addClass("inesonic-speedsentry-anchor-enable")}else{diskUsageThresholdArea.addClass("inesonic-speedsentry-anchor-disable");diskUsageThresholdArea.removeClass("inesonic-speedsentry-anchor-enable")}let submitButton=jQuery("#inesonic-speedsentry-resources-settings-submit-button");if(!diskUsage||inesonicSpeedSentryResourcesCheckDiskUsageThreshold(diskUsageThreshold)){submitButton.removeClass("inesonic-speedsentry-anchor-disable");submitButton.addClass("inesonic-speedsentry-anchor-enable")}else{submitButton.addClass("inesonic-speedsentry-anchor-disable");submitButton.removeClass("inesonic-speedsentry-anchor-enable")}}function inesonicSpeedSentryResourcesSettingsToggle(){let areaRow=jQuery("#inesonic-speedsentry-resources-configuration-area-row");if(areaRow.hasClass("inesonic-row-hidden")){areaRow.prop("class","inesonic-speedsentry-resources-configuraon-area-row inesonic-row-visible")}else{areaRow.prop("class","inesonic-speedsentry-resources-configuration-area-row inesonic-row-hidden")}}function inesonicSpeedSentryResourcesCpuChangeToggled(){}function inesonicSpeedSentryResourcesMemoryChangeToggled(){}function inesonicSpeedSentryResourcesDiskChangeToggled(){inesonicSpeedSentryResourcesValidateEntry()}function inesonicSpeedSentryResourcesDiskThresholdChanged(){inesonicSpeedSentryResourcesValidateEntry()}function inesonicSpeedSentryResourcesSettingsSubmit(){let cpuUsage=jQuery("#inesonic-speedsentry-resources-monitor-cpu-usage").prop("checked");let memoryUsage=jQuery("#inesonic-speedsentry-resources-monitor-memory-usage").prop("checked");let diskUsage=jQuery("#inesonic-speedsentry-resources-monitor-disk-usage").prop("checked");let diskUsageThreshold=jQuery("#inesonic-speedsentry-resources-disk-usage-threshold").val();jQuery.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"inesonic_speedsentry_resources_set_settings",cpu_usage:cpuUsage,memory_usage:memoryUsage,disk_usage:diskUsage,disk_usage_threshold:diskUsageThreshold},dataType:"json",success:function(a){if(a!==null||a.status=="OK"){inesonicSpeedSentryResourcesSettingsToggle()}else{alert("Update failed")}},error:function(a,c,b){console.log("Could not update settings: "+b)}})}function inesonicSpeedSentryResourcesUpdateUi(a,d,c,b){jQuery("#inesonic-speedsentry-resources-monitor-cpu-usage").prop("checked",a);jQuery("#inesonic-speedsentry-resources-monitor-memory-usage").prop("checked",d);jQuery("#inesonic-speedsentry-resources-monitor-disk-usage").prop("checked",c);jQuery("#inesonic-speedsentry-resources-disk-usage-threshold").val(b);inesonicSpeedSentryResourcesValidateEntry()}function inesonicSpeedSentryResourcesUpdateSettings(){jQuery.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"inesonic_speedsentry_resources_get_settings"},dataType:"json",success:function(a){if(a!==null&&a.status=="OK"){let cpuUsage=a.cpu_usage;let memoryUsage=a.memory_usage;let diskUsage=a.disk_usage;let diskUsageThreshold=a.disk_usage_threshold;inesonicSpeedSentryResourcesUpdateUi(cpuUsage,memoryUsage,diskUsage,diskUsageThreshold)}else{alert("Status failed")}},error:function(a,c,b){console.log("Could not get settings: "+b)}})}jQuery(document).ready(function(a){a("#inesonic-speedsentry-resources-settings-link").click(function(b){inesonicSpeedSentryResourcesSettingsToggle()});a("#inesonic-speedsentry-resources-monitor-cpu-usage").on("change",function(){inesonicSpeedSentryResourcesCpuChangeToggled()});a("#inesonic-speedsentry-resources-monitor-memory-usage").on("change",function(){inesonicSpeedSentryResourcesMemoryChangeToggled()});a("#inesonic-speedsentry-resources-monitor-disk-usage").on("change",function(){inesonicSpeedSentryResourcesDiskChangeToggled()});a("#inesonic-speedsentry-resources-disk-usage-threshold").on("change keyup paste",function(){inesonicSpeedSentryResourcesDiskThresholdChanged()});let submitButton=a("#inesonic-speedsentry-resources-settings-submit-button");submitButton.addClass("inesonic-speedsentry-anchor-disable");submitButton.click(function(b){inesonicSpeedSentryResourcesSettingsSubmit()});inesonicSpeedSentryResourcesUpdateSettings()});